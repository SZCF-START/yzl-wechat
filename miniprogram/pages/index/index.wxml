<view class="page-container">
  <!-- 顶部轮播图 -->
  <swiper
    class="swiper"
    autoplay="true"
    indicator-dots="true"
    interval="3000"
    circular="true"
  >
    <block wx:for="{{bannerList}}" wx:key="id">
      <swiper-item>
        <image
          src="{{item.imgUrl}}"
          mode="aspectFill"
          class="swiper-image"
        />
      </swiper-item>
    </block>
  </swiper>

  <!-- 租车卡片（叠放在Banner上） -->
  <view class="rent-card">
    <!-- 租赁类型标签区：日租 / 月租 -->
    <view class="rent-card-header">
      <view class="tab-container">
        <text 
          class="tab-item {{activeTab === 'daily' ? 'active' : ''}}" 
          data-tab="daily" 
          bindtap="switchTab"
        >日租</text>
        <text 
          class="tab-item {{activeTab === 'monthly' ? 'active' : ''}}" 
          data-tab="monthly" 
          bindtap="switchTab"
        >月租</text>
      </view>
    </view>

    <!-- 第一行：城市 & 门店标题 + 异地还车提示 -->
    <!-- 城市和门店在同一行 -->
    <view class="row row-city-store">
      <!-- 城市区域 -->
      <view class="city-block" bindtap="goCitySelect">
        <text class="upper-label">城市选择</text>
        <view class="city-value">
          <text>{{ currentCity || "请选择城市" }}</text>
          <text class="subscript">v</text>
        </view>
      </view>
      <!-- 门店区域 -->
      <view class="store-block" bindtap="goStoreSelect">
        <text class="upper-label">门店选择</text>
        <view class="store-value">
          <text>{{ currentStore || "请选择门店" }}</text>
          <text class="subscript">v</text>
        </view>
      </view>
    </view>

    <!-- 第二行：日期区间选择 -->
    <view class="row row-date" bindtap="goTimeSelect">
      <view class="date-item">
        <text class="date-text">{{ pickupDate }}</text>
        <text class="sub-text">{{ pickupTime }}</text>
      </view>
      <view class="date-middle">
        <text class="days-text">{{ totalDays }}天</text>
      </view>
      <view class="date-item">
        <text class="date-text">{{ returnDate }}</text>
        <text class="sub-text">{{ returnTime }}</text>
      </view>
    </view>

    <!-- 第五行：去选车按钮 -->
    <view class="row row-button">
      <button class="go-select-btn" bindtap="goSelectCar">去选车</button>
    </view>
  </view>

  <!-- 金刚区：使用swiper分页，每页显示4个图标 -->
  <swiper
    class="icon-swiper"
    indicator-dots="true"
    autoplay="{{autoPlayValue}}"
    current="{{iconCurrentPage}}"
    bindchange="handleIconSwiperChange"
  >
    <block wx:for="{{iconPages}}" wx:key="pageIndex">
      <swiper-item>
        <!-- 根据当前页是否不足4个，添加left-align类 -->
        <view class="icon-page {{iconPages.length < 4 ? 'left-align' : ''}}">
          <block wx:for="{{item}}" wx:key="id">
            <view class="icon-item" bindtap="handleIconTap" data-id="{{item.id}}">
              <image src="{{item.icon}}" class="icon-img" />
              <text class="icon-text">{{item.text}}</text>
            </view>
          </block>
        </view>
      </swiper-item>
    </block>
  </swiper>


</view>
